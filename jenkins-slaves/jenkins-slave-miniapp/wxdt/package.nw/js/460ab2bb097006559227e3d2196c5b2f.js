;!function(require, directRequire){;"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const React=require("react"),react_1=require("react"),react_redux_1=require("react-redux"),notice_1=require('./88ec2a166ee965637a6a2527c8d64645.js'),locales=require('./common/locales/index.js'),windowActions=require('./a8c87029da0fa06e986298d447ab0fe2.js'),tools=require('./d3976cc01aeebc5b09e11c4135b6bd8d.js'),mapStateToProps=(a)=>{return{show:a.window.notice.show,list:a.window.notice.list}},mapDispatchToProps=(a)=>{return{removeNotices:tools.bindActionCreators(windowActions.removeNotices,a)}};class NoticeList extends react_1.Component{getCombinedGroupKey(a){return`${a.type}-${a.icon}`}render(){const a=this.props.filter?this.props.filter(this.props.list):[...this.props.list];a.sort((a,b)=>{return a.time?b.time?b.time-a.time:1:-1});const b=[],c=new Map;for(let d=0,e=a.length;d<e;d++){const e=a[d];if(e.combinable){const a=this.getCombinedGroupKey(e);let d=c.has(a)?c.get(a):-1;if(0>d)b.push({id:a,icon:e.icon,type:e.type,title:e.name,time:e.time,toast:e.toast,toastDuration:e.toastDuration,items:e.details?e.details.map((a)=>({name:a})):[],notices:[e],buttons:e.buttons,onClose:(a)=>{const d=c.has(a)?c.get(a):-1,e=b[d];this.props.removeNotices(e.notices.map((a)=>a.id))}}),d=b.length-1,c.set(a,d);else{const a=b[d];switch(a.type){case"task":{if(1===a.notices.length){const b=a.notices[0];a.items=[{name:b.name,time:b.time}]}a.items.push({name:e.name,time:e.time}),a.notices.push(e),a.title="success"===e.icon?locales.config.NOTICE_TASK_COMPLETE.format(a.items.length):locales.config.NOTICE_TASK_FAIL.format(a.items.length);break}}}}else b.push({id:e.id,icon:e.icon,type:e.type,title:e.name,time:e.time,toast:e.toast,toastDuration:e.toastDuration,items:e.details?e.details.map((a)=>({name:a})):[],notices:[e],buttons:e.buttons,onClose:(a)=>{this.props.removeNotices([a])}})}const d=b.map((a)=>{return React.createElement(notice_1.Notice,Object.assign({},a,{key:a.id,style:{transition:"all .8s cubic-bezier(.23, 1, .32, 1)"}}))});return React.createElement("div",{style:{position:"absolute",right:"20px",top:"82px",pointerEvents:"none"}},d)}}exports.NoticeList=NoticeList,exports.NoticeListContainer=react_redux_1.connect(mapStateToProps,mapDispatchToProps)(NoticeList),exports.default=exports.NoticeListContainer;
;}(require("lazyload"), require);
