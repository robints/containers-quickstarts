;!function(require, directRequire){;"use strict";const tslib_1=require("tslib"),React=require("react"),tools=require('./d3976cc01aeebc5b09e11c4135b6bd8d.js'),infoActions=require('./1fcc6bd55b687d154a4247e57fe3011d.js'),toolbarActions=require('./fc137838572a83604db39acff8e909e0.js'),Animation=require('./875171e7b864aa58d026d4fa0999fbd1.js'),locales=require('./common/locales/index.js'),{connect}=require("react-redux"),mapStateToProps=(a)=>({show:a.info.addDeviceInfo&&a.info.addDeviceInfo.show}),mapDispatchToProps=(a)=>({addDevice:tools.bindActionCreators(toolbarActions.addDevice,a),setAddDevicePopUp:tools.bindActionCreators(infoActions.setAddDevicePopUp,a)});let AddDevice=class extends React.Component{constructor(a){super(a),this.onClose=()=>{this.setState({show:!1})},this.onNumberChange=(a)=>{let b=a.currentTarget.value;const c=a.currentTarget.dataset.type,d=/\.$/.test(b);b=parseFloat(b),this.setState({[c]:isNaN(b)?"":d?`${b}.`:b})},this.onConfirm=()=>{const{name:a,width:b,height:c,dpr:d}=this.state;return a?b?c?d?void(this.props.addDevice({height:parseFloat(c),width:parseFloat(b),dpr:parseFloat(d),name:a}),this.onClose()):void this.dprInput.focus():void this.heightInput.focus():void this.widthInput.focus():void this.nameInput.focus()},this.onAnimationOut=()=>{this.props.setAddDevicePopUp({show:!1})},this.state={show:a.show,name:"",width:"",height:"",dpr:"2"}}onNameChange(a){this.setState({name:a.currentTarget.value})}render(){return React.createElement(Animation,{show:this.state.show,style:{width:420,marginLeft:-210},inClassName:"ui-animate-pull-down ui-dialog",outClassName:"ui-animate-pull-up ui-dialog",onAnimationOut:this.onAnimationOut},React.createElement("div",{className:"ui-dialog-hd"},React.createElement("h3",{className:"ui-dialog-title"},locales.config.ADD_CUSTOM_SCREEN)),React.createElement("div",{className:"ui-dialog-bd"},React.createElement("div",{className:"ui-form"},React.createElement("div",{className:"ui-form-item ui-form-item-inline"},React.createElement("label",{className:"ui-form-label"},locales.config.NAME),React.createElement("div",{className:"ui-form-controls"},React.createElement("div",{className:"ui-input-box"},React.createElement("input",{ref:(a)=>{this.nameInput=a},className:"ui-input",value:this.state.name,onChange:this.onNameChange.bind(this)})))),React.createElement("div",{className:"ui-form-item ui-form-item-inline"},React.createElement("label",{className:"ui-form-label"},locales.config.WIDTH),React.createElement("div",{className:"ui-form-controls"},React.createElement("div",{className:"ui-input-box"},React.createElement("input",{className:"ui-input","data-type":"width",ref:(a)=>{this.widthInput=a},value:this.state.width,onChange:this.onNumberChange})))),React.createElement("div",{className:"ui-form-item ui-form-item-inline"},React.createElement("label",{className:"ui-form-label"},locales.config.HEIGHT),React.createElement("div",{className:"ui-form-controls"},React.createElement("div",{className:"ui-input-box"},React.createElement("input",{className:"ui-input","data-type":"height",ref:(a)=>{this.heightInput=a},value:this.state.height,onChange:this.onNumberChange})))),React.createElement("div",{className:"ui-form-item ui-form-item-inline"},React.createElement("label",{className:"ui-form-label"},"DPR"),React.createElement("div",{className:"ui-form-controls"},React.createElement("div",{className:"ui-input-box"},React.createElement("input",{className:"ui-input","data-type":"dpr",ref:(a)=>{this.dprInput=a},value:this.state.dpr,onChange:this.onNumberChange})))))),React.createElement("div",{className:"ui-dialog-ft"},React.createElement("div",{className:"ui-dialog-action"},React.createElement("button",{className:"ui-button ui-button-default",onClick:this.onClose},locales.config.CANCEL),React.createElement("button",{className:"ui-button ui-button-primary",onClick:this.onConfirm},locales.config.CONFIRM))))}};AddDevice=tslib_1.__decorate([locales.mixin],AddDevice),module.exports=connect(mapStateToProps,mapDispatchToProps)(AddDevice);
;}(require("lazyload"), require);
