;!function(require, directRequire){;'use strict';const appserviceMessager=require('./a1dd553cc059d528bb0ef56afed53968.js'),webviewMessager=require('./a15851ca252a104aad8b3fd3fc114574.js'),{setDeviceRotated}=require('./fc137838572a83604db39acff8e909e0.js'),{getSystemInfo}=require('./7d1472568e6410618b620b5dff451f53.js');function getPageOrientationFromAppConfig(a){let b='';try{const c=a.simulator.appConfig,d=a.simulator.currentWebviewID,e=a.simulator.webviewInfos[d],f=e.pathName;b=c.page[`${f}.html`].window.pageOrientation||''}catch(a){}return b}function getPageOrientationState(a){let b={value:'portrait',lastSetPageOrientation:'',lastPrivateSetPageOrientation:''};try{const c=a.simulator.currentWebviewID,d=a.simulator.webviewInfos[c];b=d.pageOrientation}catch(a){}return b}function canSimulatorRotate(a,b={pathName:'',appConfig:null}){const{pathName:c}=b;let{appConfig:d}=b;const e=a.toolbar,f=a.simulator;d=d||f.appConfig||{};let g='';if(!c){const a=f.currentWebviewID,b=f.webviewInfos,c=b&&b[a]||{},d=c.pageOrientation||{};g=d.value||''}else try{g=d.page[`${c}.html`].window.pageOrientation||''}catch(a){}let h='portrait';try{h=g||d.global.window.pageOrientation||'portrait'}catch(a){}return e.deviceInfo.isPad&&d.resizable||!e.deviceInfo.isPad&&'auto'===h}async function rotateSimulator(a,b,c,d={triggerAppserviceEvent:!0,triggerWebviewEvent:!0}){const{triggerAppserviceEvent:e,triggerWebviewEvent:f}=d;b(setDeviceRotated(a));const g=await getSystemInfo(b,'',c),h=c(),i=h.simulator.currentWebviewID,j={eventName:'onViewDidResize',data:{changedWebviewIds:[i],deviceOrientation:a?'landscape':'portrait',size:{windowWidth:g.windowWidth,windowHeight:g.windowHeight,screenWidth:g.screenWidth,screenHeight:g.screenHeight}},webviewID:i};if(!h.toolbar.deviceInfo.isPad){const a=getPageOrientationState(h),b={originalPageOrientation:getPageOrientationFromAppConfig(h),lastPageOrientation:a.value};a.lastSetPageOrientation&&(b.setPageOrientation=a.lastSetPageOrientation),a.lastPrivateSetPageOrientation&&(b.private_setPageOrientation=a.lastPrivateSetPageOrientation),j.data.pageOrientation=b}e&&appserviceMessager.triggerOnEvent(j),f&&webviewMessager.triggerOnEvent(j)}module.exports={canSimulatorRotate,rotateSimulator};
;}(require("lazyload"), require);
