;!function(require, directRequire){;"use strict";const request=require("request"),proxy=require('./437e6043fc662374e4f1c2330516ac40.js'),{CGI_DOMAIN,MP_DOMAIN,OPEN_DOMAIN}=require('./f171257bbcaef547a3cf27266ccb0db2.js'),os="darwin"===process.platform?"darwin":"win",appVersion=global.appVersion,HTTPS_ERROR={SELF_SIGNED_CERT_IN_CHAIN:!0,UNABLE_TO_VERIFY_LEAF_SIGNATURE:!0};let tunnel=!0;function sendRequest(a,b){const c=a.url;(0===c.indexOf(CGI_DOMAIN)||0===c.indexOf(MP_DOMAIN)||0===c.indexOf(OPEN_DOMAIN))&&(a.url=-1===c.indexOf("?")?`${c}?os=${os}&clientversion=${appVersion}`:`${c}&os=${os}&clientversion=${appVersion}${global.osVersion?`&osversion=${global.osVersion}`:""}`),global.online&&(a.url+="&autodev=1");const d=proxy.getProxyForURL(c);a.proxy=d,a.tunnel=tunnel;const e=request(a,(c,d,e)=>{return c&&HTTPS_ERROR[c.code]&&(tunnel=!confirm(`当前系统代理不是安全代理，是否信任？`),!tunnel)?(a.tunnel=tunnel,void request(a,b)):void("function"==typeof b&&b(c,d,e))});return e}module.exports=sendRequest;
;}(require("lazyload"), require);
