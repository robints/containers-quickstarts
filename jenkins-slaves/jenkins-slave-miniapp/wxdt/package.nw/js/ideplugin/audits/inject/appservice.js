!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=40)}([function(e,t,n){const r=new(0,n(7).EventEmitter);r.setMaxListeners(100),e.exports=r},function(e,t,n){const r=n(5),o=n(0);e.exports.$=function(e,t){return"string"==typeof t&&(t=document.querySelector(t)),(t||document).querySelector(e)},e.exports.$$=function(e){return document.querySelectorAll(e)},e.exports.show=function(e){"string"==typeof e&&(e=document.querySelector(e)),e.style.display=""},e.exports.hide=function(e){"string"==typeof e&&(e=document.querySelector(e)),e.style.display="none"},e.exports.sprintf=function(e,t){for(let n=0;n<t.length;n++)e=e.replace(/%s/,t[n]);return e},e.exports.reportBehavior=function(e){this.log("reportBehavior",e),r.invoke("REPORT",JSON.stringify(e))},e.exports.log=function(){const e=Array.prototype.slice.call(arguments);e.unshift("color: #ea6f5a;"),e.unshift("%c[Audit]"),console.log.apply(console,e)},e.exports.formatSize=function(e){const t=["B","K","M","G"];let n;for(;(n=t.shift())&&e>1024;)e/=1024;return("B"===n?e:e.toFixed(2))+n},e.exports.hash=function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return t>>>0},e.exports.byteCount=function(e){return encodeURI(e).split(/%..|./).length-1},e.exports.unique=function(e){const t=[];for(let n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},e.exports.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},e.exports.compareVersion=function(e,t){e=e.split("."),t=t.split(".");const n=Math.max(e.length,t.length);for(;e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(let r=0;r<n;r++){const n=parseInt(e[r]),o=parseInt(t[r]);if(n>o)return 1;if(n<o)return-1}return 0};const i=[];r.on("RESP_FS_READ_FILE",e=>{const t=i.indexOf(e.data.path);t>-1&&i.splice(t,1),o.emit("_read-file",e.data)}),e.exports.readFile=function(e,t){o.on("_read-file",function n(r){r.path===e&&("function"==typeof t&&t({content:r.fileData,path:e}),o.removeListener("_read-file",n))}),i.indexOf(e)>-1||(i.push(e),r.invoke("FS_READ_FILE",{path:e}))},e.exports.status="running"},,function(e,t,n){const r=n(4),o=n(0);n(1);var i=function(){const e=window.navigator||window.__global.navigator,t=window.WebSocket||window.__global.WebSocket;var n=e.userAgent.match(/port\/(\d*)/),i=null,s=`ws://127.0.0.1:${n?parseInt(n[1]):9974}`,u=null,a=[],c=[];const p="GET_MESSAGE_TOKEN";function f(e){i&&i.readyState===t.OPEN?i.send(JSON.stringify(e)):c.push(e)}const l=e=>{a.push(e)};return{connect:function e(n){u=n||u;var l=window.prompt?prompt(p):__global.prompt(p);(i=new t(s,`${u}#${l}#`)).onopen=function(e){let t=[].concat(c);c=[],t.forEach(e=>{f(e)})},i.onclose=function(t){i=null,setTimeout(()=>{e(n)},100)},i.onmessage=function(e){try{let t=JSON.parse(e.data);(function(e){a.forEach(t=>{try{t(e)}catch(e){console.error(e),r.report(e)}})})(t),function(e){if("TRANSFER"===e.command&&e.data){window.navigator.userAgent;const t=e.data.eventName;o.emit(t,e.data.data)}}(t)}catch(e){console.error("ws.onmessage cb error",e),r.report(e)}}},send:f,registerCallback:l,getWs:()=>i,pub:function(e,t={}){f({command:"TRANSFER",data:{eventName:e,data:t,from:window.navigator.userAgent.indexOf("appservice")>-1?"appservice":"webview"}})},sub:function(e,t){l(n=>{"TRANSFER"===n.command&&(n.data?n.data.eventName===e&&t(n.data):console.error("messager sub error: no data field."))})}}}();e.exports=i},function(e,t,n){const r=n(6);r.init({id:187,url:"https://badjs.weixinbridge.com/badjs",globalError:!!window.isAuditsTabEnv,extend:{version:"0.0.24"}}),r.reportCustomError=function(e){try{throw new Error(`[custom] ${e}`)}catch(e){r.report(e)}},e.exports=r},function(e,t,n){const r=n(4);var o=[],i={};window.addEventListener("wechatideReady",()=>{o.forEach(e=>{window.wechatide.invoke(e.command,e.args,e.callback)}),o=[];for(const e in i)window.wechatide.on(e,i[e])});e.exports={invoke:(e,t,n)=>{window.wechatide?window.wechatide.invoke(e,t,n):o.push({command:e,args:t,callback:n})},on:(e,t)=>{const n=function(...e){try{t.apply(this,e)}catch(e){console.error(e),r.report(e)}};window.wechatide?window.wechatide.on(e,n):i[e]=n}}},function(e,t,n){let r="",o="";n(0).on("appservice-onload",function(e){r=e.appId,o=e.libVersion});
/*!
 * @module report
 * @author kael, chriscai
 * @date @DATE
 * Copyright (c) 2014 kael, chriscai
 * Licensed under the MIT license.
 */
var i=function(e){if(e.BJ_REPORT)return e.BJ_REPORT;var t=[],n={},i={id:0,uin:0,url:"",combo:1,ext:null,level:4,ignore:[],random:1,delay:1e3,submit:null,repeat:5,globalError:!0},s=function(e,t){return Object.prototype.toString.call(e)==="[object "+(t||"Object")+"]"},u=function(e){return"object"===typeof e&&!!e},a=function(e){return null===e||!s(e,"Number")&&!e},c=function(e){var t=e.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),n=e.toString();return t.indexOf(n)<0&&(t=n+"@"+t),t},p=function(e,t){var n=[],r=[],o=[];if(u(e))for(var s in e.level=e.level||i.level,e){var c=e[s];if(!a(c)){if(u(c))try{c=JSON.stringify(c)}catch(e){c="[BJ_REPORT detect value stringify error] "+e.toString()}o.push(s+":"+c),n.push(s+"="+encodeURIComponent(c)),r.push(s+"["+t+"]="+encodeURIComponent(c))}}return[r.join("&"),o.join(","),n.join("&")]},f=function(e){var t;i.submit?i.submit(e):("undefined"!=typeof Image?t=new Image:"undefined"!=typeof document&&document.createElement&&(t=document.createElement("img")),t&&(t.src=e))},l=function(e){if(!u(e))return!0;var t=e.msg;return(n[t]=(parseInt(n[t],10)||0)+1)>i.repeat},d=[],_=0,h=function(e){if(i.report){for(;t.length;){var n=!1,r=t.shift();if(!l(r)){var o=p(r,d.length);if(s(i.ignore,"Array"))for(var u=0,a=i.ignore.length;u<a;u++){var c=i.ignore[u];if(s(c,"RegExp")&&c.test(o[1])||s(c,"Function")&&c(r,o[1])){n=!0;break}}n||(i.combo?d.push(o[0]):f(i.report+o[2]+"&_t="+ +new Date),i.onReport&&i.onReport(i.id,r))}}if(d.length){var h=function(){clearTimeout(_),f(i.report+d.join("&")+"&count="+d.length+"&_t="+ +new Date),_=0,d=[]};e?h():_||(_=setTimeout(h,i.delay))}}},v=e.BJ_REPORT={push:function(e){if(Math.random()>=i.random)return v;var n=u(e)?function(e){try{if(e.stack){var t=e.stack.match("https?://[^\n]+"),n=(t=t?t[0]:"").match(":(\\d+):(\\d+)");return n||(n=[0,0,0]),{msg:c(e),rowNum:n[1],colNum:n[2],target:t.replace(n[0],"")}}return e.name&&e.message&&e.description?{msg:JSON.stringify(e)}:e}catch(t){return e}}(e):{msg:e};return i.ext&&!n.ext&&(n.ext=i.ext),n.from=JSON.stringify({version:i.extend&&i.extend.version,appId:"undefined"!=typeof __wxConfig&&__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||r,libVersion:"undefined"!=typeof __appServiceSDK__?__appServiceSDK__.wx&&__appServiceSDK__.wx.version&&__appServiceSDK__.wx.version.version:"undefined"!=typeof wx?wx.version&&wx.version.version:o}),t.push(n),h(),v},report:function(e){return e&&v.push(e),h(!0),v},info:function(e){return e?(u(e)?e.level=2:e={msg:e,level:2},v.push(e),v):v},debug:function(e){return e?(u(e)?e.level=1:e={msg:e,level:1},v.push(e),v):v},init:function(e){if(u(e))for(var n in e)i[n]=e[n];var r=parseInt(i.id,10);return r&&(/qq\.com$/gi.test(location.hostname)&&(i.url||(i.url="//badjs2.qq.com/badjs"),i.uin||(i.uin=parseInt((document.cookie.match(/\buin=\D+(\d+)/)||[])[1],10))),i.report=(i.url||"/badjs")+"?id="+r+"&uin="+i.uin+"&"),t.length&&h(),i.globalError&&function(){var e=window.onerror;window.onerror=function(t,n,r,o,i){var u=t;i&&i.stack&&(u=c(i)),s(u,"Event")&&(u+=u.type?"--"+u.type+"--"+(u.target?u.target.tagName+"::"+u.target.src:""):""),v.push({msg:u,target:n,rowNum:r,colNum:o}),h(),e&&e.apply(window,arguments)}}(),v},__onerror__:e.onerror};return"undefined"!=typeof console&&console.error&&setTimeout(function(){var e=((location.hash||"").match(/([#&])BJ_ERROR=([^&$]+)/)||[])[2];e&&console.error("BJ_ERROR",decodeURIComponent(e).replace(/(:\d+:\d+)\s*/g,"$1\n"))},0),v}(this);e.exports=i,function(e){if(e.BJ_REPORT){var t=function(t){e.BJ_REPORT.push(t)},n={};e.BJ_REPORT.tryJs=function(e){return e&&(t=e),n};var r,o=function(e,t){for(var n in t)e[n]=t[n]},i=function(e){return"function"==typeof e},s=function(n,o){return function(){try{return n.apply(this,o||arguments)}catch(n){if(t(n),n.stack&&console&&console.error&&console.error("[BJ-REPORT]",n.stack),!r){var i=e.onerror;e.onerror=function(){},r=setTimeout(function(){e.onerror=i,r=null},50)}throw n}}},u=function(e){return function(){for(var t,n=[],r=0,o=arguments.length;r<o;r++)t=arguments[r],i(t)&&(t=s(t)),n.push(t);return e.apply(this,n)}},a=function(e){return function(t,n){if("string"==typeof t)try{t=new Function(t)}catch(e){throw e}var r=[].slice.call(arguments,2);return t=s(t,r.length&&r),e(t,n)}},c=function(e,t){return function(){for(var n,r,o=[],u=0,a=arguments.length;u<a;u++)n=arguments[u],i(n)&&(r=s(n))&&(n.tryWrap=r)&&(n=r),o.push(n);return e.apply(t||this,o)}},p=function(e){var t,n;for(t in e)n=e[t],i(n)&&(e[t]=s(n));return e};n.spyJquery=function(){var t,r,o=e.$;if(!o||!o.event)return n;o.zepto?(t=o.fn.on,r=o.fn.off,o.fn.on=c(t),o.fn.off=function(){for(var e,t=[],n=0,o=arguments.length;n<o;n++)e=arguments[n],i(e)&&e.tryWrap&&(e=e.tryWrap),t.push(e);return r.apply(this,t)}):window.jQuery&&(t=o.event.add,r=o.event.remove,o.event.add=c(t),o.event.remove=function(){for(var e,t=[],n=0,o=arguments.length;n<o;n++)e=arguments[n],i(e)&&e.tryWrap&&(e=e.tryWrap),t.push(e);return r.apply(this,t)});var s=o.ajax;return s&&(o.ajax=function(e,t){return t||(t=e,e=void 0),p(t),e?s.call(o,e,t):s.call(o,t)}),n},n.spyModules=function(){var t=e.require,r=e.define;return r&&r.amd&&t&&(e.require=u(t),o(e.require,t),e.define=u(r),o(e.define,r)),e.seajs&&r&&(e.define=function(){for(var e,t=[],n=0,o=arguments.length;n<o;n++)e=arguments[n],i(e)&&((e=s(e)).toString=function(e){return function(){return e.toString()}}(arguments[n])),t.push(e);return r.apply(this,t)},e.seajs.use=u(e.seajs.use),o(e.define,r)),n},n.spySystem=function(){return e.setTimeout=a(e.setTimeout),e.setInterval=a(e.setInterval),n},n.spyCustom=function(e){return i(e)?s(e):p(e)},n.spyAll=function(){return n.spyJquery().spyModules().spySystem(),n}}else console.error("please load bg-report first")}(this)},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,u,a,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var p=new Error('Uncaught, unspecified "error" event. ('+t+")");throw p.context=t,p}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(o(n))for(u=Array.prototype.slice.call(arguments,1),s=(c=n.slice()).length,a=0;a<s;a++)c[a].apply(this,u);return!0},n.prototype.addListener=function(e,t){var s;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(s=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var n,i,s,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(u=s;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){i=u;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},,function(e,t,n){const{compareVersion:r}=n(1),o=n(4);e.exports.getValidVersions=o.tryJs().spyCustom(function(e,t,n){if(!t)return[];const o=Object.keys(n),i=o.indexOf(t);if(-1===i)return[];{const t=n[o[i]];return Object.keys(t).filter(t=>r(t,e)<=0)}}),e.exports.doesNeedProperty=o.tryJs().spyCustom(function(e,t,n){let r=!1;for(let n=0;n<e.length;n++){if(t[e[n]].length){r=!0;break}}return r}),e.exports.getValidItemsWithSpecificVersions=o.tryJs().spyCustom(function(e,t,n){let r=void 0;for(let o=0;o<e.length;o++){let i=t[e[o]];for(let e=0;e<i.length;e++){let t=i[e];if("string"==typeof t&&t===n){void 0===r&&(r=[]);break}if("object"==typeof t&&t.hasOwnProperty(n)){r=void 0===r?t[n]:r.concat(t[n]);break}}}return r}),e.exports.getValidItem=o.tryJs().spyCustom(function(e,t){for(let n=0;n<e.length;n++){if("string"==typeof e[n]&&e[n]===t)return[];if("object"==typeof e[n]&&e[n].hasOwnProperty(t))return e[n][t]}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){const r=n(3),o=n(41);n(1);function i(){o.init()}r.connect("APPSERVICE_EXPERIENCE"),"complete"===document.readyState?i():window.addEventListener("load",i)},function(e,t,n){const r=n(3),o=n(0),i=n(1),s=n(4),u=n(42),c=n(43),p=setInterval,f=setTimeout,l=Object.defineProperties,d=Object.keys,_=["surroundThirdByTryCatch","slowReport","speedReport","reportKeyValue","reportIDKey"],h=[];let v=null,g=!1;function m(){const e=[];try{a}catch(t){const n=t.stack.split("\n").slice(3);for(let t=0;t<n.length;t++){let r=n[t];if(r.indexOf("WAService.js")>-1||r.indexOf("appservice/__dev__")>-1)break;let o=r.match(/at (.+) \(http:\/\//);o&&o[1]&&e.push(o[1].replace(/^Audit_(setTimeout|setInterval)_?.*$/,"$1"))}}return e}Object.keys=function(e){const t=d(e);for(let e=0;e<_.length;e++){let n=_[e];if(-1===t.indexOf(n))return t}const n=Array.prototype.forEach;return Array.prototype.forEach=function(e){const t=Object.defineProperty;Object.defineProperty=function(e,n,r){r.configurable=!0,t(e,n,r)},n.call(this,e),Object.defineProperty=t,Array.prototype.forEach=n},Object.keys=d,d(e)},window.__passWAServiceGlobal__=function(e){for(let t in e)"Protect"!==t&&(window[t]=e[t]);b(),x(),u.hook(),c.hook(),v=__wxConfig,__wxConfig.plugins},o.on("stop-audit",function(){i.status="stopped"}),o.on("console",function(e){console.warn(e.msg)});const y=s.tryJs().spyCustom(function(){const e={};Object.keys(exparser.Component._list).forEach(function(t){!t||"wx://functional-page"===t||/^plugin:\/\//.test(t)||/^plugin-private:\/\//.test(t)||/(^|\/)miniprogram_npm\//g.test(t)||(e[t]=exparser.Component._list[t])}),Object.keys(e).forEach(t=>{if(!t)return;const n=e[t],r=n.initiator;n.initiator=function(){const e=this,t=e.setData;r.call(e),e.__customConstructor__===__virtualDOM__.Page||e.__set_data_rewrited__||(l(this,{setData:{value:function(n,r){if(t.call(e,n,r),"running"!==i.status)return;f(()=>{o.emit("set-data",n,this.is,s)});const s=m()},configurable:!0}}),e.__set_data_rewrited__=!0)}})}),w=s.tryJs().spyCustom(function(){getCurrentPages().forEach(e=>{if(!e||e.__set_data_rewrited__)return;const t=e.setData;l(e,{setData:{value:function(n,r){if(t.call(e,n,r),"running"!==i.status)return;f(function(){o.emit("set-data",n,"Page",s)});const s=m()},configurable:!0}}),e.__set_data_rewrited__=!0})}),b=s.tryJs().spyCustom(function(){const e=__appServiceSDK__.wx.request;l(__appServiceSDK__.wx,{request:{value:function(t){const n=t.success;t.success=function(e){"function"==typeof n&&n(e),"running"===i.status&&200===e.statusCode&&e.data&&function(e,t){r.pub("wx-request-body",{url:e,body:t,page:__appServiceEngine__.getCurrentRoute()})}(t.url,i.hash(JSON.stringify(e.data)))},e(t),"running"===i.status&&function(e){r.pub("wx-request",{url:e,page:__appServiceEngine__.getCurrentRoute()})}(t.url)},configurable:!0}})}),x=s.tryJs().spyCustom(function(){const e=window.require;window.require=function(t){return h.push(t),g&&r.pub("add-js-module",{mod:t}),e(t)}});e.exports.init=function(){if("undefined"==typeof __appServiceSDK__)return console.error("基础库切换到 2.2.0+ ，才能使用 Audits 功能"),void r.pub("not-supported-wxalib");r.pub("appservice-onload",{appId:v&&v.accountInfo.appId,libVersion:__appServiceSDK__.wx&&__appServiceSDK__.wx.version&&__appServiceSDK__.wx.version.version,isCrawler:"undefined"!=typeof __devtoolsConfig&&__devtoolsConfig.online,allModules:h}),__appServiceSDK__.onAppRoute(function(){"running"===i.status&&w()}),w(),y(),n(45).init(),n(46).init(),n(47).init(f),n(48).init(),n(49).init(f,p),n(50).init(),g=!0}},function(e,t,n){const r=n(3),o=n(1),i=n(4);e.exports.hook=i.tryJs().spyCustom(function(){const e=Reporter.slowReport;Object.defineProperties(Reporter,{slowReport:{value:function(t){e(t),"running"===o.status&&"pageInvoke"===t.key&&function(e,t){r.pub("execute-long-time",{cost:e,extend:t,page:__appServiceEngine__.getCurrentRoute()})}(t.cost,t.extend)},configurable:!0}})})},function(e,t,n){const r=n(3),o=(n(1),n(44)),i=n(4),{getValidVersions:s,getValidItemsWithSpecificVersions:u,doesNeedProperty:a}=n(9),c=Object.defineProperties,p=Object.keys(o);let f=[],l=null;function d(e){-1===f.indexOf(e)&&f.push(e);const t=__appServiceEngine__.getCurrentRoute();clearTimeout(l),l=setTimeout(function(){r.pub("deprecated-api",{deprecateds:f,page:t}),f=[]},500)}const _=(e,t,n,r)=>{const i=o[t];let p,f;if(0===(p=s(e,t,o)).length)return;if(!a(p,i))return void d(t);const l=((e,t,n)=>u(e,t,n))(p,i,"$method")||[];f=[],l.forEach(e=>{const n=r[e];f[e]={value:function(...o){n.apply(r,o),d(`${t}.${e}`)}}}),c(r,f)};e.exports.hook=i.tryJs().spyCustom(function(){const e={},t=__appServiceSDK__.wx;p.forEach(n=>{const r=t[n];e[n]={value:function(...e){const o=r.apply(t,e),i=t.version&&t.version.version;return i&&_(i,n,0,o),o}}}),c(t,e)})},function(e){e.exports={stopVoice:{"1.6.0":[]},pauseVoice:{"1.6.0":[]},playVoice:{"1.6.0":[]},createAudioContext:{"1.6.0":[]},stopRecord:{"1.6.0":[]},startRecord:{"1.6.0":[]},onBackgroundAudioStop:{"1.2.0":[]},onBackgroundAudioPause:{"1.2.0":[]},onBackgroundAudioPlay:{"1.2.0":[]},stopBackgroundAudio:{"1.2.0":[]},seekBackgroundAudio:{"1.2.0":[]},pauseBackgroundAudio:{"1.2.0":[]},playBackgroundAudio:{"1.2.0":[]},getBackgroundAudioPlayerState:{"1.2.0":[]},setTopBarText:{"1.9.9":[]},createContext:{"1.0.0":[]},drawCanvas:{"1.0.0":[]},createCanvasContext:{"1.0.0":[{$method:["getActions"]}],"1.9.90":[{$method:["setFontSize","setMiterLimit","setLineDash","setLineCap","setLineJoin","setLineWidth","setGlobalAlpha","setShadow","setStrokeStyle","setFillStyle"]}]}}},function(e,t,n){const r=n(3),o=n(1);function i(e){"running"===o.status&&r.pub("js-exception",{msg:e,page:__appServiceEngine__.getCurrentRoute()})}e.exports.init=function(){Reporter.registerErrorListener(i)}},function(e,t,n){const r=n(3);n(0).on("set-data",function(e,t,n){const o=JSON.stringify(e).length;o>262144&&function(e,t,n,o){r.pub("set-data-large",{size:e,page:__appServiceEngine__.getCurrentRoute(),position:t,stack:n.join(" -> "),vars:o})}(o,t,n,Object.keys(e))}),e.exports.init=function(){}},function(e,t,n){const r=n(3),o=n(0),i=1e3,s=20;let u=setTimeout,a=[],c=Date.now(),p=null;function f(e,t,n){r.pub("set-data-freq",{times:e,page:__appServiceEngine__.getCurrentRoute(),position:t,stack:n.join(" -> ")})}o.on("set-data",function(e,t,n){const r=Date.now(),o=r-c;c=r,o>i?a=[]:a.push(o),a.length>=s&&function(e,t){clearTimeout(p);for(let n=0,r=a.length;n<r;n++){let o=0,c=n;for(;o<i&&c<r;)o+=a[c],c++;if(o<i)return void(c-n>=s&&(p=u(function(){f(c-n,e,t),a=[]},i-o)));if(c-n>=s){f(c-n,e,t),a=[];break}}}(t,n)}),e.exports.init=function(e){u=e}},function(e,t,n){const r=n(3),o=n(0);n(1);o.on("set-data",function(e,t,n){!function(e,t,n){r.pub("set-data-no-binding",{vars:e,page:__appServiceEngine__.getCurrentRoute(),position:t,stack:n.join(" -> ")})}(Object.keys(e),t,n)}),e.exports.init=function(){}},function(e,t,n){const r=n(3),o=(n(0),n(1)),i=Object.defineProperty,s=function(){return this}();let u=!0;function a(e,t){const n=function(n,a=0,...c){let p,f,l=__appServiceEngine__.getCurrentRoute();return"running"===o.status&&(i(n,"name",{writable:!0}),n.name=`Audit_${t}_${l}`,p=function(){try{foo.bar.foo.bar}catch(e){const t=e.stack.split("\n")[3];if(t.indexOf("appservice/__asdebug__")>-1||t.indexOf("appservice/__dev__")>-1||t.indexOf("appservice/appservice")>-1)return null;const n=t.match(/at (.*) \(([^)]+)\)/);return n?{funcName:n[1],path:n[2]}:null}return null}()),e("running"===o.status?function(){if(n.apply(s,c),!p)return;u&&(u=!1,r.pub("timer-no-recycle-applicable"));const e=__appServiceEngine__.getCurrentRoute(),o=(p.funcName||"").match(/Audit_(setTimeout|setInterval)_(.*)/);o&&o[2]&&(l=o[2]),f=(p.path||"").replace(/^.*\/appservice\/([^:]+).*$/,"$1"),e!==l&&function(e,t,n){r.pub("timer-no-recycle",{name:t,page:e,path:n})}(l,t,f)}:n,a)};return i(n,"name",{writable:!0}),n.name=`Audit_${t}`,n}e.exports.init=function(e,t){!function(e,t){setInterval=a(t,"setInterval"),setTimeout=a(e,"setTimeout")}(e,t)}},function(e,t,n){const r=n(3),o=n(0);n(1);let i=[],s=[],u=[];__wxConfig&&__wxConfig.tabBar&&(u=__wxConfig.tabBar.list.map(e=>e.pagePath.replace(".html",""))),o.on("stop-audit",function(){let e=[];for(let t of s)t&&e.push(t.route);e=e.concat(i),r.pub("page-info",{pages:e})}),__appServiceSDK__.onAppRoute(e=>{let t=__appServiceEngine__.getCurrentPages();t[0]&&i.indexOf(t[0].route)<0&&u.indexOf(t[0].route)>-1&&i.push(t[0].route),s=t,r.pub("app-route",e)}),e.exports.init=function(){}}]);