;!function(require, directRequire){;"use strict";const tslib_1=require("tslib"),React=require("react"),cssConfig=require('./3b5f8e2469c474c8d433c1c6926d8999.js'),PickerRing=require('./59394b696f4be6762ad2b2bf3e1575a7.js'),webviewMessager=require('./a15851ca252a104aad8b3fd3fc114574.js'),widgetServiceMessager=require('./08daeb1466202b05ac4b7f58871f83db.js'),compileTypeConfig=require('./9fdd4ac31a05c27355910f0d74accd4c.js'),locales=require('./common/locales/index.js');let MultiPicker=class extends React.Component{constructor(a){super(a),this.state={current:a.current}}componentWillReceiveProps(a){a.show&&(a.current===this.props.current||this.setState({current:a.current}))}getValue(){return this.state.current}hide(){this.props.hidePicker({callbackID:this.props.callbackID,webviewID:this.props.webviewID,res:{errMsg:`${this.props.api}:cancel`}})}confirm(){this.props.hidePicker({callbackID:this.props.callbackID,webviewID:this.props.webviewID,res:{errMsg:`${this.props.api}:ok`,current:this.getValue()}})}onPickerSelect(a,b){const c=this.state.current;c[a]=parseInt(b+"",10),this.setState({current:c}),this.props.project.compileType===compileTypeConfig.search?widgetServiceMessager.triggerOnEvent({eventName:"onMultiPickerViewChange",data:{column:a,current:b}}):webviewMessager.triggerOnEvent({webviewID:this.props.webviewID,eventName:"onMultiPickerViewChange",data:{column:a,current:b}})}render(){const a=this.props,b=this.props.array.map((a,b)=>React.createElement(PickerRing,{key:b,array:a,current:this.state.current[b],onPickerSelect:this.onPickerSelect.bind(this,b)}));return React.createElement("div",{style:a.show?{}:cssConfig.displayNone},React.createElement("div",{className:"weui-mask weui-animate-fade-in",onClick:this.hide.bind(this)}),React.createElement("div",{className:"weui-picker weui-animate-slide-up"},React.createElement("div",{className:"weui-picker__hd"},React.createElement("a",{className:"weui-picker__action",onClick:this.hide.bind(this)},locales.config.CANCEL),React.createElement("a",{className:"weui-picker__action",onClick:this.confirm.bind(this)},locales.config.CONFIRM)),React.createElement("div",{className:"weui-picker__bd"},b)))}};MultiPicker=tslib_1.__decorate([locales.mixin],MultiPicker),module.exports=MultiPicker;
;}(require("lazyload"), require);
