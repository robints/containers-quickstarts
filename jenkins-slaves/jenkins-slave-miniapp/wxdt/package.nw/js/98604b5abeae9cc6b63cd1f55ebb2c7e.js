;!function(require, directRequire){;"use strict";const tslib_1=require("tslib"),React=require("react"),Animation=require('./875171e7b864aa58d026d4fa0999fbd1.js'),{connect}=require("react-redux"),locales=require('./common/locales/index.js'),mapStateToProps=(a)=>{const b=a.window.simulator||{};return{isSimulatorPopup:b.popup}};let Spotlight=class extends React.Component{constructor(a){super(a),this.handleFilterInputChange=(a)=>{const b=a.target.value;this.setState({filterWord:b,hiddenIndexes:this.getHiddenIndexes(this.props.list,b)})},this.state={lazyLoaded:a.show,show:a.show,hiddenIndexes:[],filterWord:""}}componentWillReceiveProps(a){a.show!==this.props.show&&this.setState({show:a.show,lazyLoaded:!0}),a.list!==this.props.list&&this.setState({hiddenIndexes:this.getHiddenIndexes(a.list,this.state.filterWord)})}onSelectClick(a,b){b.stopPropagation(),"function"==typeof this.props.onSelectClick&&this.props.onSelectClick(a,b)}getHiddenIndexes(a,b){const c=[];for(let d=0;d<a.length;d++)c[d]=0>a[d].toLowerCase().indexOf(b.trim().toLowerCase());return c}render(){if(!this.state.lazyLoaded)return null;const a=[];this.props.list&&this.props.list.forEach((b,c)=>{this.state.hiddenIndexes[c]||a.push(React.createElement("div",{className:"spotlight-result-item",key:c,onClick:this.onSelectClick.bind(this,c)},React.createElement("div",{className:"spotlight-result-item-bd"},React.createElement("p",{className:"spotlight-result-name",title:b},b))))});const b={width:this.props.width||"auto",marginLeft:-this.props.width/2,left:"50%",top:this.props.top||0,transform:"none"};return this.props.isSimulatorPopup&&(b.width=this.props.width||"100%",b.left=0,b.marginLeft=0),React.createElement(Animation,{show:this.state.show,style:b,inClassName:"spotlight",outClassName:"ui-animate-fadeOut spotlight"},React.createElement("div",{className:"spotlight-hd"},React.createElement("div",{className:"spotlight-hd-icon"},React.createElement("i",{className:"ui-icon-magnifier"})),React.createElement("div",{className:"spotlight-hd-input-box"},React.createElement("input",{type:"text",value:this.state.filterWord,onChange:this.handleFilterInputChange,placeholder:locales.config.FIND_SCENE_VALUE,className:"spotlight-hd-input"}))),React.createElement("div",{className:"spotlight-bd",style:{height:this.props.height||"auto"}},a))}};Spotlight=tslib_1.__decorate([locales.mixin],Spotlight),module.exports=connect(mapStateToProps,null)(Spotlight);
;}(require("lazyload"), require);
