;!function(require, directRequire){;"use strict";const tslib_1=require("tslib"),React=require("react"),tools=require('./d3976cc01aeebc5b09e11c4135b6bd8d.js'),LoginQRCode=require('./f2b0fd116ee25849124e867e0da34f23.js'),userActions=require('./9c906d27ca74e18d0deaaa231e71fdfa.js'),windowActions=require('./a8c87029da0fa06e986298d447ab0fe2.js'),{connect}=require("react-redux"),locales=require('./common/locales/index.js'),mapStateToProps=(a)=>{const b=a.window.additionLogin||{};return Object.assign({openid:a.user.openid},b)},mapDispatchToProps=(a)=>({addAccount:tools.bindActionCreators(userActions.addAccount,a),loginSuccess:tools.bindActionCreators(userActions.loginSuccess,a),setAdditionLogin:tools.bindActionCreators(windowActions.setAdditionLogin,a)});let AdditionLogin=class extends React.Component{constructor(a){super(a),this.onClose=()=>{this.props.setAdditionLogin({show:!1})},this.onLoginSuccess=(a)=>{return a.openid===this.props.openid?(this.setState({errMsg:locales.config.ACCOUNT_BOX_ADD_ERR_MSG}),this.props.loginSuccess(a),void this.loginQRCode.wrappedInstance.reloadQRCode()):void(this.props.addAccount(a.openid,a),this.onClose())},this.state={errMsg:""}}render(){return React.createElement("div",{className:"ui-popover2","x-placement":"right",style:{left:this.props.left,top:this.props.top,zIndex:2}},React.createElement("div",{className:"ui-popover2-hd"},React.createElement("h3",{className:"ui-popover2-title"},locales.config.ACCOUNT_BOX_ADD_TITLE),React.createElement("div",{className:"ui-popover2-ext",onClick:this.onClose},React.createElement("a",null,React.createElement("i",{className:"ui-icon-close"})))),React.createElement("div",{className:"ui-popover2-bd"},React.createElement("div",{className:"authenticate"},React.createElement("div",{className:"authenticate-bd"},React.createElement(LoginQRCode,{ref:(a)=>{this.loginQRCode=a},onLoginSuccess:this.onLoginSuccess})),React.createElement("div",{className:"authenticate-ft"},this.state.errMsg?React.createElement("p",{style:{color:"red"}},this.state.errMsg):React.createElement("p",null,locales.config.ACCOUNT_BOX_ADD_MSG)))),React.createElement("div",{className:"ui-popover2-arrow"}))}};AdditionLogin=tslib_1.__decorate([locales.mixin],AdditionLogin),module.exports=connect(mapStateToProps,mapDispatchToProps)(AdditionLogin);
;}(require("lazyload"), require);
