;!function(require, directRequire){;"use strict";const path=require("path"),contentWatcher=require('./162bf2ee28b76d3b3d95b685cede4146.js'),consoleDisplay=require('./2dfc6a3df6d6fc51266b293c8420e88b.js'),C=require('./56c390e04c10e91a4aa2a2c19d9a885d.js'),checkAppConfig=require('./1dea83a77e99a7c94f6b6f01f5c175b0.js'),runTask=require('./41168dca39589e852da6631126d0f94d.js'),store=require('./bc78839ccca8df9e5ceeb7fae11b7be2.js'),getSourceMap=require('./cdbf7243dc99f8461acbb1d57af1d8ae.js'),compileCache=require('./2e9637e8a0816a626f7db9a0dee5efe8.js'),fileRules=require('./1c8a8c710417d102ab574145dc51b4b0.js'),tools=require('./84b183688a46c9e2626d3e6f83365e13.js'),cpus=directRequire("os").cpus().length,{noBrowser}=require('./ebfcad0a5e72b6e693634486564b1394.js'),rememberedLargeFiles={};let largeFilesTimeout,largeFiles=[];function pushLargeFiles(a){largeFiles.push(a),largeFilesTimeout&&clearTimeout(largeFilesTimeout),largeFilesTimeout=setTimeout(()=>{largeFilesTimeout=void 0,consoleDisplay.display({command:C.DISPLAY_INFO,type:"COMPILE_JS_TOO_LARGE_IGNORE",data:{files:[...largeFiles]}}),largeFiles=[]},1e3)}function isForceBackup(){let a=!0;try{a=!store.getState().settings.compiler.clusterCompile,a=a||4>=cpus}catch(b){console.error(b),a=!0}return a}async function getJsFile(a,b,c={}){b=decodeURI(b),await compileCache.init(a);const d=await contentWatcher(a);let e=await d.getFile(b);const f=tools.generateMD5(e),g=compileCache.CACHE_KEYS.JS_FILE,h=path.posix.join(d.srcPath,b),i=compileCache.get(g,h);if(!c.force&&i&&i.code&&i.es6===a.setting.es6&&i.md5===f)return a.setting.es6&&rememberedLargeFiles[b]&&!c.noWarnings&&pushLargeFiles(b),i.code;const j=a.debugOptions&&a.debugOptions.hidedInDevtools||[],k=await checkAppConfig(a),l=k.workers&&0===b.indexOf(k.workers);if(a.setting.es6){const a=path.basename(b);if(512000>e.length){const c=isForceBackup();rememberedLargeFiles[b]=!1;const f=await runTask({taskName:"processJS",config:{projectPath:d.srcPath,file:b,es6:"yes",sourceMaps:"map",sourceFileName:a},dataStr:e,useBackup:!0,maxTimeout:60000,forceBackup:c,showInStatus:{text:`compiling ${b}`}});if(f.error)throw f.error;fileRules.isFileHidedInDevtools(b,j)&&delete f.map,e=f.map?`${f.code}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,${new Buffer(f.map).toString("base64")}`:f.code}else rememberedLargeFiles[b]=!0,c.noWarnings||pushLargeFiles(b)}else{const a=getSourceMap(path.join(d.srcPath,b),e);a&&(a.mappings=`;${a.mappings}`,e=`\n${e}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,${new Buffer(JSON.stringify(a)).toString("base64")}`)}return e=`define("${b.replace(/\"/g,"\\\"")}", function(require, module, exports, ${noBrowser}){ ${e}\n});`,l&&(e=`__workersCode__['${b}'] = ${JSON.stringify(e)}`),compileCache.set(g,h,{code:e,md5:f,es6:a.setting.es6}),e}module.exports=getJsFile;
;}(require("lazyload"), require);
