;!function(require, directRequire){;"use strict";const checkAppConfig=require('./1dea83a77e99a7c94f6b6f01f5c175b0.js'),transWXSSToJS=require('./709f7f8328edb932b1169de8b7e694dd.js'),checkCustomComponent=require('./6b5520e429c60abf5d2f924c0fa05fd0.js'),tools=require('./d3976cc01aeebc5b09e11c4135b6bd8d.js'),checkWxAppCodeJSON=require('./e2bb00408a93b45ef5e6ad32f05e850c.js'),compileCache=require('./2e9637e8a0816a626f7db9a0dee5efe8.js');async function getWxAppCode(a,b={}){await compileCache.init(a);const c=compileCache.CACHE_KEYS.JSON_WXAPPCODE_PAGEFRAME;let d="main";const{app:e,page:f}=b,g=await checkAppConfig(a);let h,j="$gwx";if(!e){if(h=tools.checkIsInSubPackage(g,f),!h)return"";d=`sub_${h.root}`,j=`$${new Buffer(h.root).toString("hex")}`}let i=compileCache.get(c,d);if(!i){const b=await checkCustomComponent.getFileList(a,g,h),e=[];for(let c=0,d=b.length;c<d;c++){const d=b[c],f=encodeURI(d),g=await checkWxAppCodeJSON(a,d);e.push(`var decodePathName = decodeURI("${f}")`),e.push(`__wxAppCode__[decodePathName + ".json"]=${JSON.stringify(g)}`),e.push(`__wxAppCode__[decodePathName + ".wxml"]=${j}("./" + decodePathName + ".wxml")`);const h=await transWXSSToJS(a,{page:d});h.page&&e.push(`__wxAppCode__[decodePathName + ".wxss"]=eval('${h.page}')`)}i=e.join("\n"),compileCache.set(c,d,i)}return i}module.exports=getWxAppCode;
;}(require("lazyload"), require);
