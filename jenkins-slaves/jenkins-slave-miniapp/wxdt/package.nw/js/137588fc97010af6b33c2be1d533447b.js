;!function(require, directRequire){;"use strict";const React=require("react"),{connect}=require("react-redux"),Spotlight=require('./98604b5abeae9cc6b63cd1f55ebb2c7e.js'),tools=require('./d3976cc01aeebc5b09e11c4135b6bd8d.js'),cssConfig=require('./3b5f8e2469c474c8d433c1c6926d8999.js'),simulatorActions=require('./ba23d8b47b1f4ea08b9fd49939b9443f.js'),{enterForeground}=require('./a3959bb900db9f65ed2e9c5dfa6977b7.js'),mapStateToProps=(a)=>{const b=a.project.current,c=b.compileType,d=b.condiction[c];let e={};d&&d.list&&(e=d.list[d.current]||{});const f=a.simulator.webviewInfos[a.simulator.currentWebviewID]||{},g=a.toolbar.deviceInfo,h=a.toolbar.deviceScale;let i=(g.screenWidth+100)*h;const j=Math.min(Math.max(a.window.simulator.width,i)-100*h,g.screenWidth);return global.onlySimulator&&(i=g.screenWidth*h),{width:j,show:a.simulator.backgroundShow,sceneMap:a.config.sceneMap||{},sceneList:a.config.sceneList||[],condiction:e,compileType:c,webviewInfo:f}},mapDispatchToProps=(a)=>({setBackground:tools.bindActionCreators(simulatorActions.setBackground,a)});class BackMode extends React.Component{constructor(a){super(a)}onSelectClick(a){const b=this.props.sceneList[a],c=b.value;this.props.setBackground({scene:c,show:!1});const d=this.props.webviewInfo.pathName,e=this.props.webviewInfo.query,f=this.props.condiction,g={scene:c,path:d,query:e};f.scene===c&&(g.shareInfo=f.shareInfo,g.referrerInfo=f.referrerInfo),enterForeground("toolbarAndBackMode",g)}render(){const a=this.props,b=this.props.sceneList.map((a)=>`${a.value}: ${a.name}`);return React.createElement("div",{className:"ui-mask",ref:"container",style:a.show?{opacity:"0.999999"}:cssConfig.displayNone},React.createElement(Spotlight,{show:a.show,list:b,width:this.props.width,top:62,onSelectClick:this.onSelectClick.bind(this)}))}}module.exports=connect(mapStateToProps,mapDispatchToProps)(BackMode);
;}(require("lazyload"), require);
