;!function(require, directRequire){;"use strict";const tslib_1=require("tslib"),React=require("react"),classNames=require("classnames"),cssConfig=require('./3b5f8e2469c474c8d433c1c6926d8999.js'),musicstatusConfig=require('./5dc59f418d85e854c1a12d402d29e2d7.js'),audioManager=require('./35a5c665bbd039baf968211c3ff216fc.js'),locales=require('./common/locales/index.js'),consoleDisplay=require('./2dfc6a3df6d6fc51266b293c8420e88b.js'),C=require('./56c390e04c10e91a4aa2a2c19d9a885d.js'),{connect}=require("react-redux"),mapStateToProps=(a)=>{const b=a.simulator.music||{};return Object.assign({},b)},mapDispatchToProps=()=>({});let Music=class extends React.Component{constructor(a){super(a),this.playOrPause=(a)=>{a.stopPropagation(),this.props.status===musicstatusConfig.MUSIC_STATE_PLAY?audioManager.pauseMusic():audioManager.resumeMusic()},this.state={lazyLoaded:a.show,src:""}}componentDidMount(){this.props.requiredBackgroundMode||consoleDisplay.display({command:C.DISPLAY_ERROR,type:"none",data:{title:locales.config.API_UPDATE_TIP_TITLE,msg:locales.config.BACK_GROUND_AUDIO_UPGRADE}})}componentWillReceiveProps(a){a.show!==this.props.show&&a.show&&this.setState({lazyLoaded:!0}),a.backgroundShow!==this.props.backgroundShow&&setTimeout(()=>{this.onBackgroundShow()})}onBackgroundShow(){this.props.backgroundShow&&!this.props.requiredBackgroundMode&&audioManager.stopMusic()}render(){const a=this.props,b=a.coverImgUrl?{}:cssConfig.displayNone;let c=a.title;if("background"===a.mode){const b=a.singer;c?b&&(c=`${b} - ${c}`):c=b}return React.createElement("div",{className:"container"},React.createElement("div",null,React.createElement("div",null,React.createElement("div",{className:"music-item ui-flex",onClick:this.playOrPause},React.createElement("div",{className:"music-icon-area"},React.createElement("i",{className:classNames({"ui-icon-pause":a.status===musicstatusConfig.MUSIC_STATE_PLAY,"ui-icon-play":a.status===musicstatusConfig.MUSIC_STATE_PAUSE})})),React.createElement("div",{className:"ui-flex-item"},React.createElement("h3",null,locales.config.PLAYING),React.createElement("p",null,c)),React.createElement("div",{style:b},React.createElement("img",{className:"music-thumb",src:a.coverImgUrl}))))))}};Music=tslib_1.__decorate([locales.mixin],Music),module.exports=connect(mapStateToProps,mapDispatchToProps)(Music);
;}(require("lazyload"), require);
