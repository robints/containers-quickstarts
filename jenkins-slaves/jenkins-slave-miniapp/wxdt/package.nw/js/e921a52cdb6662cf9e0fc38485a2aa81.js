;!function(require, directRequire){;"use strict";const tslib_1=require("tslib"),React=require("react"),locales=require('./common/locales/index.js'),SECTION="proxy";let ProxySetting=class extends React.Component{constructor(a){super(a),this.changeProxy=(a)=>{const b=a.currentTarget,c=b.dataset,d=c.type;let e;"USER"===d?(e=`PROXY ${this.state.proxyHost}:${this.state.proxyPort}`,this.props.updateIDESetting(SECTION,"proxyHost",this.state.proxyHost),this.props.updateIDESetting(SECTION,"proxyPort",this.state.proxyPort)):e=d,this.props.updateIDESetting(SECTION,"proxyType",e),this.setState({proxyType:e})},this.changeProxyHost=(a)=>{const b=a.currentTarget.value.trim(),c=this.state.proxyPort||"80",d=`PROXY ${b}:${c}`;this.setState({proxyHost:b,proxyType:d},()=>{this.setProxy()})},this.changeProxyPort=(a)=>{let b=a.currentTarget.value.trim();const c=`PROXY ${this.state.proxyHost}:${b}`;b=b.replace(/[^0-9]/g,""),this.setState({proxyPort:b,proxyType:c},()=>{this.setProxy()})},this.setProxy=()=>{this.props.updateIDESetting(SECTION,"proxyType",`PROXY ${this.state.proxyHost}:${this.state.proxyPort}`),this.props.updateIDESetting(SECTION,"proxyHost",this.state.proxyHost),this.props.updateIDESetting(SECTION,"proxyPort",this.state.proxyPort)},this.onProxyInputKeyPress=(a)=>{"Enter"===a.key&&this.setProxy()},this.state={proxyType:"DIRECT",proxyHost:"",proxyPort:""}}componentDidMount(){this.makeState(this.props)}componentWillReceiveProps(a){a.settings!==this.props.settings&&this.makeState(a)}makeState(a){const b=a.settings.proxyType||"SYSTEM";let c=a.settings.proxyHost||"",d=a.settings.proxyPort||"";if("SYSTEM"!==b&&"DIRECT"!==b){const a=b.replace("PROXY","").split(":");d=a.splice(-1,1).join(""),c=a.join("")}this.setState({proxyType:b,proxyHost:c,proxyPort:d})}getSetting(){return{proxyType:this.state.proxyType,proxyHost:this.state.proxyHost,proxyPort:this.state.proxyPort}}render(){const a=this.state.proxyType,b="DIRECT"!==a&&"SYSTEM"!==a;return React.createElement("div",{className:"setting-theme ui-form"},React.createElement("div",{className:"ui-form-item ui-form-item-inline ui-form-item-vt"},React.createElement("label",{htmlFor:"",className:"ui-form-label"},locales.config.SETTING_PROXY_SETTING),React.createElement("div",{className:"ui-form-controls"},React.createElement("label",{htmlFor:"",className:"ui-radio",onClick:this.changeProxy,"data-type":"DIRECT"},React.createElement("i",{className:"DIRECT"===a?"ui-icon-radio-o":"ui-icon-radio"}),React.createElement("span",{className:"ui-radio-text"},locales.config.SETTING_PROXY_NONE)),React.createElement("label",{htmlFor:"",className:"ui-radio",onClick:this.changeProxy,"data-type":"SYSTEM"},React.createElement("i",{className:"SYSTEM"===a?"ui-icon-radio-o":"ui-icon-radio"}),React.createElement("span",{className:"ui-radio-text"},locales.config.SETTING_PROXY_SYSTEM)),React.createElement("label",{htmlFor:"",className:"ui-radio",onClick:this.changeProxy,"data-type":"USER"},React.createElement("i",{className:b?"ui-icon-radio-o":"ui-icon-radio"}),React.createElement("span",{className:"ui-radio-text"},locales.config.SETTING_PROXY_USER)),React.createElement("div",{className:"setting-proxy ui-flex"},React.createElement("div",{className:"setting-proxy-host ui-flex-item"},React.createElement("div",{className:"ui-input-box"},React.createElement("input",{type:"text",placeholder:locales.config.SETTING_PROXY_ADDRESS,className:"ui-input",disabled:!b,value:this.state.proxyHost,onChange:this.changeProxyHost,onBlur:this.setProxy,onKeyPress:this.onProxyInputKeyPress}))),React.createElement("div",{className:"setting-proxy-sep"},React.createElement("p",null,":")),React.createElement("div",{className:"setting-proxy-port"},React.createElement("div",{className:"ui-input-box"},React.createElement("input",{type:"text",placeholder:locales.config.SETTING_PROXY_PORT,className:"ui-input",disabled:!b,value:this.state.proxyPort,onChange:this.changeProxyPort,onBlur:this.setProxy,onKeyPress:this.onProxyInputKeyPress})))))))}};ProxySetting=tslib_1.__decorate([locales.mixin],ProxySetting),module.exports=ProxySetting;
;}(require("lazyload"), require);
