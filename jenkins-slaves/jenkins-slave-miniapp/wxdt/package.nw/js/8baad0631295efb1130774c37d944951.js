;!function(require, directRequire){;'use strict';const exec=require('child_process').exec,isMac='darwin'===process.platform,PORT_RANGE={min:1e4,max:65535};function execute(a){return new Promise((b,c)=>{exec(a,function(a,d){a?c(a):b(d)})})}async function isFree(a,b){if(isMac)try{return await execute(`lsof -i@${b}:${a}`),!1}catch(a){}else try{const c=await execute(`netstat -an`),d=c.match(new RegExp(b.replace(/\./g,'\\.')+':'+a));if(d)return!1}catch(a){}return!0}function findFreePort(a='127.0.0.1'){const b=PORT_RANGE;let c=0;return new Promise((d,e)=>{function f(){c+=1,10<c&&e(Error('Unable to find a free port'));const g=Math.floor(Math.random()*(b.max-b.min)+b.min);isFree(g,a).then(function(a){a?d(g):f()},f)}f()})}module.exports={findFreePort,isFree};
;}(require("lazyload"), require);
