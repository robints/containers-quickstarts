;!function(require, directRequire){;"use strict";const tslib_1=require("tslib"),React=require("react"),cssConfig=require('./3b5f8e2469c474c8d433c1c6926d8999.js'),PickerRing=require('./59394b696f4be6762ad2b2bf3e1575a7.js'),locales=require('./common/locales/index.js');let TimeRing=class extends React.Component{constructor(a){super(a),this.onHourSelect=(a)=>{const b=60*a+this.state.minuteCurrent;let c=a;b<this.range.start?c=parseInt(this.range.start/60+"",10):b>this.range.end&&(c=parseInt(this.range.end/60+"",10)),this.setState({hourCurrent:c}),this.hourPicker.setCurrent(c)},this.onMinuteSelect=(a)=>{const b=60*this.state.hourCurrent+a;let c=a;b<this.range.start?c=parseInt(this.range.start%60+"",10):b>this.range.end&&(c=parseInt(this.range.end%60+"",10),this.setState({minuteCurrent:c}),this.minutePicker.setCurrent(c)),this.setState({minuteCurrent:c}),this.minutePicker.setCurrent(c)},this.hide=()=>{this.props.hidePicker({callbackID:this.props.callbackID,webviewID:this.props.webviewID,res:{errMsg:"showDatePickerView:cancel"}})},this.confirm=()=>{this.props.hidePicker({callbackID:this.props.callbackID,webviewID:this.props.webviewID,res:{errMsg:"showDatePickerView:ok",value:this.getValue()}})},this.state={hourCurrent:0,minuteCurrent:0},this.range={},this.hourArray=[];for(let b=0;24>b;b++)this.hourArray.push(9<b?""+b:"0"+b);this.minuteArray=[];for(let b=0;60>b;b++)this.minuteArray.push(9<b?""+b:"0"+b)}componentDidMount(){this.setRange("start",this.props.start||"00:00"),this.setRange("end",this.props.end||"23:59"),this.setCurrent(this.props.current||"00:00")}componentWillReceiveProps(a){a.show&&(a.current!==this.props.current&&this.setCurrent(a.current),a.start!==this.props.start&&this.setRange("start",a.start),a.end!==this.props.end&&this.setRange("end",a.end))}setCurrent(a){var b=Math.min,c=Math.max;const d=a.split(":"),e=parseInt(d[0],10),f=parseInt(d[1],10);this.setState({hourCurrent:isNaN(e)?0:b(c(e,0),23),minuteCurrent:isNaN(f)?0:b(c(f,0),59)})}setRange(a,b){const c=b.split(":");let d=parseInt(c[0],10);d=isNaN(d)?0:d;let e=parseInt(c[1],10);e=isNaN(e)?0:e,this.range[a]=60*d+e}getValue(){return this.hourArray[this.state.hourCurrent]+":"+this.minuteArray[this.state.minuteCurrent]}render(){const a=this.props;return React.createElement("div",{style:a.show?{}:cssConfig.displayNone},React.createElement("div",{className:"weui-mask weui-animate-fade-in",onClick:this.hide}),React.createElement("div",{className:"weui-picker weui-animate-slide-up"},React.createElement("div",{className:"weui-picker__hd"},React.createElement("a",{className:"weui-picker__action",onClick:this.hide},locales.config.CANCEL),React.createElement("a",{className:"weui-picker__action",onClick:this.confirm},locales.config.CONFIRM)),React.createElement("div",{className:"weui-picker__bd"},React.createElement(PickerRing,{ref:(a)=>{this.hourPicker=a},array:this.hourArray,current:this.state.hourCurrent,onPickerSelect:this.onHourSelect}),React.createElement(PickerRing,{ref:(a)=>{this.minutePicker=a},array:this.minuteArray,current:this.state.minuteCurrent,onPickerSelect:this.onMinuteSelect}))))}};TimeRing=tslib_1.__decorate([locales.mixin],TimeRing),module.exports=TimeRing;
;}(require("lazyload"), require);
