;!function(require, directRequire){;"use strict";const React=require("react"),Animation=require('./875171e7b864aa58d026d4fa0999fbd1.js'),gameserviceMessager=require('./e3681b47a6ce46a8998b8cdff40bdb12.js'),locales=require('./common/locales/index.js'),keyboardStyle={zIndex:1e3,position:"fixed",bottom:0,height:200,width:"100%",background:"#e2edf3"},inputBarStyle={width:"100%",display:"inline-flex",flexDirection:"row",justifyContent:"center"},inputStyle={outline:"none",resize:"none",border:"none",caretColor:"blue",borderRadius:5,height:30,flex:1,margin:10,padding:5,fontSize:14},buttonStyle={margin:10,marginLeft:0},panelStyle={};class Keyboard extends React.Component{constructor(a){super(a),this.onInputChange=(a)=>{const b=a.target.value;gameserviceMessager.triggerOnEvent({eventName:"onKeyboardInput",data:{value:b}}),this.setState({value:b})},this.onAnimationOut=()=>{},this.state={lazyLoaded:a.show,show:a.show,value:a.defaultValue},this.confirmType={done:locales.config.GAME_KEYBOARD_DONE,search:locales.config.GAME_KEYBOARD_SEARCH,next:locales.config.GAME_KEYBOARD_NEXT,go:locales.config.GAME_KEYBOARD_GO,send:locales.config.GAME_KEYBOARD_SEND}}componentDidMount(){this._cancalLocaleListener=locales.onChangeLocale(()=>{this.confirmType={done:locales.config.GAME_KEYBOARD_DONE,search:locales.config.GAME_KEYBOARD_SEARCH,next:locales.config.GAME_KEYBOARD_NEXT,go:locales.config.GAME_KEYBOARD_GO,send:locales.config.GAME_KEYBOARD_SEND},this.forceUpdate()})}componentWillUnmount(){this._cancalLocaleListener()}componentWillReceiveProps(a){const b={show:a.show};a.show!==this.props.show&&(a.show?b.lazyLoaded=!0:gameserviceMessager.triggerOnEvent({eventName:"onKeyboardComplete",data:{value:this.state.value}})),a.defaultValue!==this.props.defaultValue&&(b.value=a.defaultValue),a.update&&a.update!==this.props.update&&(b.value=a.update.value),this.setState(b)}onButtonClick(){gameserviceMessager.triggerOnEvent({eventName:"onKeyboardConfirm",data:{value:this.state.value}}),this.props.confirmHold||this.props.hideKeyboard()}render(){if(!this.state.lazyLoaded)return null;const a=this.props;return React.createElement(Animation,{show:this.state.show,inClassName:"ui-animate-pull-up",outClassName:"ui-animate-pull-down",onAnimationOut:this.onAnimationOut},React.createElement("div",{style:keyboardStyle},React.createElement("div",{style:inputBarStyle},a.multiple?React.createElement("textarea",{value:this.state.value,style:inputStyle,maxLength:a.maxLength,onChange:this.onInputChange}):React.createElement("input",{value:this.state.value,style:inputStyle,maxLength:a.maxLength,onChange:this.onInputChange}),React.createElement("div",{style:buttonStyle,className:"ui-button",onClick:this.onButtonClick.bind(this)},this.confirmType[a.confirmType]||locales.config.CONFIRM)),React.createElement("div",{style:panelStyle})))}}module.exports=Keyboard;
;}(require("lazyload"), require);
