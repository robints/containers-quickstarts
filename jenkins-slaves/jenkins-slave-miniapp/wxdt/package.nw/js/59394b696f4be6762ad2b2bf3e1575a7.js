;!function(require, directRequire){;"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const React=require("react"),cssConfig=require('./3b5f8e2469c474c8d433c1c6926d8999.js'),PICKER_ITEM_HEIGHT=34;class PickerRing extends React.Component{constructor(a){var b=Math.min,c=Math.max;super(a),this.onMouseDown=(a)=>{this.touch=!0,this.startY=a.pageY,this.lastTranslateY=this.state.translateY||0},this.onMouseMove=(a)=>{if(!this.touch)return;let d=a.pageY-this.startY+this.lastTranslateY;d=c((3-this.props.array.length+1)*PICKER_ITEM_HEIGHT,d),d=b(3*PICKER_ITEM_HEIGHT,d),this.setState({translateY:d}),this.checkSelect()},this.onMouseWheel=(a)=>{const d=Date.now();if(200>d-this.lastWheelTime)return;this.lastWheelTime=d;let e=this.state.translateY;0>a.deltaY?e+=PICKER_ITEM_HEIGHT:e-=PICKER_ITEM_HEIGHT,e=c((3-this.props.array.length+1)*PICKER_ITEM_HEIGHT,e),e=b(3*PICKER_ITEM_HEIGHT,e),this.setState({translateY:e}),this.checkSelect()},this.onMouseUp=()=>{this.touch=!1,this.startY=0,this.lastTranslateY=0;let a=this.state.translateY;a=c((3-this.props.array.length+1)*PICKER_ITEM_HEIGHT,a),a=b(3*PICKER_ITEM_HEIGHT,a);const d=3-parseInt(a/PICKER_ITEM_HEIGHT+"",10);isNaN(d)||(a=(3-d)*PICKER_ITEM_HEIGHT,this.setState({translateY:a}),this.current!==d&&(this.current=d,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{"function"==typeof this.props.onPickerSelect&&this.props.onPickerSelect(this.current)},0)))},this.onMouseEnter=()=>{},this.state={translateY:0},this.lastWheelTime=Date.now(),this.touch=!1,this.startY=0,this.lastTranslateY=0}componentDidMount(){this.setCurrent(this.props.current)}componentWillReceiveProps(a){a.current!==this.props.current&&this.setCurrent(a.current)}checkSelect(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.onMouseUp()},250)}setCurrent(a){this.setState({translateY:(3-a)*PICKER_ITEM_HEIGHT})}render(){const a={transform:`translate(0px, ${this.state.translateY}px)`,transition:"all 0.3s"},b=this.props.array.map((a)=>React.createElement("div",{key:a,className:"weui-picker__item"},a));return React.createElement("div",{className:"weui-picker__group",onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseUp,onWheel:this.onMouseWheel,style:this.props.hidden?cssConfig.displayNone:{}},React.createElement("div",{className:"weui-picker__mask"}),React.createElement("div",{className:"weui-picker__indicator"}),React.createElement("div",{className:"weui-picker__content",style:a},b))}}module.exports=PickerRing;
;}(require("lazyload"), require);
